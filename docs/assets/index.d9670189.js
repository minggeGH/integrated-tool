import{f as createComponent,i as inject,g as emptyRenderFn,h as computed,j as h,k as hSlot,l as getCurrentInstance,m as layoutKey,n as pageContainerKey,C as ref,D as isRuntimeSsrPreHydration,q as watch,v as onBeforeUnmount,I as hMergeSlot,J as hUniqueSlot,L as useRouter,o as openBlock,c as createBlock,w as withCtx,a as createVNode,Q as QBtn,b as unref,e as createCommentVNode,M as normalizeClass,N as createTextVNode,O as toDisplayString,R as quasarKey,t as onMounted,S as QCard,T as QCardSection,U as QInput,V as isRef,W as withKeys,X as createBaseVNode}from"./index.4ce91da3.js";import{b as QResizeObserver,Q as QLayout,a as QPageContainer}from"./QLayout.7080c6a2.js";import{s as service}from"./request.f1ad8c03.js";var QPage=createComponent({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:n}){const{proxy:{$q:l}}=getCurrentInstance(),r=inject(layoutKey,emptyRenderFn);if(r===emptyRenderFn)return console.error("QPage needs to be a deep child of QLayout"),emptyRenderFn;if(inject(pageContainerKey,emptyRenderFn)===emptyRenderFn)return console.error("QPage needs to be child of QPageContainer"),emptyRenderFn;const s=computed(()=>{const i=(r.header.space===!0?r.header.size:0)+(r.footer.space===!0?r.footer.size:0);if(typeof e.styleFn=="function"){const m=r.isContainer.value===!0?r.containerHeight.value:l.screen.height;return e.styleFn(i,m)}return{minHeight:r.isContainer.value===!0?r.containerHeight.value-i+"px":l.screen.height===0?i!==0?`calc(100vh - ${i}px)`:"100vh":l.screen.height-i+"px"}}),u=computed(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>h("main",{class:u.value,style:s.value},hSlot(n.default))}}),QFooter=createComponent({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:n,emit:l}){const{proxy:{$q:r}}=getCurrentInstance(),t=inject(layoutKey,emptyRenderFn);if(t===emptyRenderFn)return console.error("QFooter needs to be child of QLayout"),emptyRenderFn;const s=ref(parseInt(e.heightHint,10)),u=ref(!0),i=ref(isRuntimeSsrPreHydration.value===!0||t.isContainer.value===!0?0:window.innerHeight),m=computed(()=>e.reveal===!0||t.view.value.indexOf("F")>-1||r.platform.is.ios&&t.isContainer.value===!0),g=computed(()=>t.isContainer.value===!0?t.containerHeight.value:i.value),x=computed(()=>{if(e.modelValue!==!0)return 0;if(m.value===!0)return u.value===!0?s.value:0;const o=t.scroll.value.position+g.value+s.value-t.height.value;return o>0?o:0}),C=computed(()=>e.modelValue!==!0||m.value===!0&&u.value!==!0),w=computed(()=>e.modelValue===!0&&C.value===!0&&e.reveal===!0),c=computed(()=>"q-footer q-layout__section--marginal "+(m.value===!0?"fixed":"absolute")+"-bottom"+(e.bordered===!0?" q-footer--bordered":"")+(C.value===!0?" q-footer--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus"+(m.value!==!0?" hidden":""):"")),y=computed(()=>{const o=t.rows.value.bottom,f={};return o[0]==="l"&&t.left.space===!0&&(f[r.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),o[2]==="r"&&t.right.space===!0&&(f[r.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),f});function d(o,f){t.update("footer",o,f)}function p(o,f){o.value!==f&&(o.value=f)}function b({height:o}){p(s,o),d("size",o)}function a(){if(e.reveal!==!0)return;const{direction:o,position:f,inflectionPoint:V}=t.scroll.value;p(u,o==="up"||f-V<100||t.height.value-g.value-f-s.value<300)}function v(o){w.value===!0&&p(u,!0),l("focusin",o)}watch(()=>e.modelValue,o=>{d("space",o),p(u,!0),t.animate()}),watch(x,o=>{d("offset",o)}),watch(()=>e.reveal,o=>{o===!1&&p(u,e.modelValue)}),watch(u,o=>{t.animate(),l("reveal",o)}),watch([s,t.scroll,t.height],a),watch(()=>r.screen.height,o=>{t.isContainer.value!==!0&&p(i,o)});const Q={};return t.instances.footer=Q,e.modelValue===!0&&d("size",s.value),d("space",e.modelValue),d("offset",x.value),onBeforeUnmount(()=>{t.instances.footer===Q&&(t.instances.footer=void 0,d("size",0),d("offset",0),d("space",!1))}),()=>{const o=hMergeSlot(n.default,[h(QResizeObserver,{debounce:0,onResize:b})]);return e.elevated===!0&&o.push(h("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),h("footer",{class:c.value,style:y.value,onFocusin:v},o)}}}),QToolbarTitle=createComponent({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:n}){const l=computed(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>h("div",{class:l.value},hSlot(n.default))}}),QToolbar=createComponent({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:n}){const l=computed(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>h("div",{class:l.value,role:"toolbar"},hSlot(n.default))}}),QHeader=createComponent({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:n,emit:l}){const{proxy:{$q:r}}=getCurrentInstance(),t=inject(layoutKey,emptyRenderFn);if(t===emptyRenderFn)return console.error("QHeader needs to be child of QLayout"),emptyRenderFn;const s=ref(parseInt(e.heightHint,10)),u=ref(!0),i=computed(()=>e.reveal===!0||t.view.value.indexOf("H")>-1||r.platform.is.ios&&t.isContainer.value===!0),m=computed(()=>{if(e.modelValue!==!0)return 0;if(i.value===!0)return u.value===!0?s.value:0;const a=s.value-t.scroll.value.position;return a>0?a:0}),g=computed(()=>e.modelValue!==!0||i.value===!0&&u.value!==!0),x=computed(()=>e.modelValue===!0&&g.value===!0&&e.reveal===!0),C=computed(()=>"q-header q-layout__section--marginal "+(i.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(g.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),w=computed(()=>{const a=t.rows.value.top,v={};return a[0]==="l"&&t.left.space===!0&&(v[r.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),a[2]==="r"&&t.right.space===!0&&(v[r.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),v});function c(a,v){t.update("header",a,v)}function y(a,v){a.value!==v&&(a.value=v)}function d({height:a}){y(s,a),c("size",a)}function p(a){x.value===!0&&y(u,!0),l("focusin",a)}watch(()=>e.modelValue,a=>{c("space",a),y(u,!0),t.animate()}),watch(m,a=>{c("offset",a)}),watch(()=>e.reveal,a=>{a===!1&&y(u,e.modelValue)}),watch(u,a=>{t.animate(),l("reveal",a)}),watch(t.scroll,a=>{e.reveal===!0&&y(u,a.direction==="up"||a.position<=e.revealOffset||a.position-a.inflectionPoint<100)});const b={};return t.instances.header=b,e.modelValue===!0&&c("size",s.value),c("space",e.modelValue),c("offset",m.value),onBeforeUnmount(()=>{t.instances.header===b&&(t.instances.header=void 0,c("size",0),c("offset",0),c("space",!1))}),()=>{const a=hUniqueSlot(n.default,[]);return e.elevated===!0&&a.push(h("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),a.push(h(QResizeObserver,{debounce:0,onResize:d})),h("header",{class:C.value,style:w.value,onFocusin:p},a)}}});const _sfc_main$1={__name:"index",props:{title:{type:String,default:""},dark:{type:Boolean,default:!1},bgClass:{type:String,default:"bg-base-100"},isTextCenter:{type:Boolean,default:!1},showBackButton:{type:Boolean,default:!0}},setup(e){const n=useRouter();return(l,r)=>(openBlock(),createBlock(QHeader,{class:normalizeClass(e.dark?"bg-transparent":e.bgClass+" text-base-content")},{default:withCtx(()=>[createVNode(QToolbar,null,{default:withCtx(()=>[e.showBackButton?(openBlock(),createBlock(QBtn,{key:0,flat:"",round:"",dense:"",class:"icon-[material-symbols--chevron-left-rounded] text-sm",onClick:r[0]||(r[0]=t=>unref(n).back())})):createCommentVNode("",!0),createVNode(QToolbarTitle,{class:normalizeClass({"absolute-center":e.isTextCenter})},{default:withCtx(()=>[createTextVNode(toDisplayString(e.title),1)]),_:1},8,["class"])]),_:1})]),_:1},8,["class"]))}};function useQuasar(){return inject(quasarKey)}function getToolData(e){return service({url:"/toolServe",method:"get",params:e})}function updataToolData(e){return service({url:"/toolServe/edit",method:"post",data:e})}const _hoisted_1={class:"text-xl font-bold text-green-600"},_sfc_main={__name:"index",setup(__props){const $q=useQuasar(),countText=ref(""),countResult=ref("");function onSubmit(){countResult.value=eval(countText.value),updataToolData({countText:countText.value,countResult:countResult.value}).then(e=>{$q.notify({message:"\u8BA1\u7B97\u6210\u529F",color:"positive",position:"top"})})}function onClear(){$q.dialog({title:"Confirm",message:"\u662F\u5426\u91CD\u7F6E?",ok:"\u786E\u8BA4",cancel:"\u53D6\u6D88",persistent:!0}).onOk(()=>{countText.value="",countResult.value=""})}function copyText(e){var n=document.createElement("textarea");n.value=e,document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n),$q.notify({message:"\u590D\u5236\u6210\u529F",color:"positive",position:"top"})}return onMounted(()=>{getToolData().then(e=>{countText.value=e.countText,countResult.value=e.countResult})}),(e,n)=>(openBlock(),createBlock(QLayout,null,{default:withCtx(()=>[createVNode(_sfc_main$1,{title:"\u8BA1\u7B97\u5668",showBackButton:!1,bgClass:"bg-secondary text-white text-center"}),createVNode(QPageContainer,{class:"h-screen"},{default:withCtx(()=>[createVNode(QPage,{class:"h-full w-full p-3 bg-gray-300"},{default:withCtx(()=>[createVNode(QCard,{class:"bg-white"},{default:withCtx(()=>[createVNode(QCardSection,{class:"p-0"},{default:withCtx(()=>[createVNode(QInput,{modelValue:unref(countText),"onUpdate:modelValue":n[1]||(n[1]=l=>isRef(countText)?countText.value=l:null),onKeyup:withKeys(onSubmit,["enter"]),debounce:"100","bg-color":"white",inputClass:"text-xl",filled:"",type:"textarea"},{append:withCtx(()=>[createVNode(QBtn,{flat:"",icon:"style",onClick:n[0]||(n[0]=l=>copyText(unref(countText)))})]),_:1},8,["modelValue"])]),_:1})]),_:1}),createVNode(QCard,{onClick:n[2]||(n[2]=l=>copyText(unref(countResult))),class:"mt-3"},{default:withCtx(()=>[createVNode(QCardSection,{class:"row flex-wrap items-center justify-center"},{default:withCtx(()=>[createTextVNode(" \u8BA1\u7B97\u7ED3\u679C\uFF1A"),createBaseVNode("span",_hoisted_1,toDisplayString(unref(countResult)),1)]),_:1})]),_:1})]),_:1})]),_:1}),createVNode(QFooter,{class:"p-3 pb-16 bg-white row space-x-2 flex-nowrap"},{default:withCtx(()=>[createVNode(QBtn,{outline:"",color:"green-6",label:"\u91CD\u7F6E",class:"w-1/2",onClick:onClear}),createVNode(QBtn,{color:"primary",size:"1rem",glossy:"",label:"\u8BA1\u7B97",class:"w-1/2",onClick:onSubmit})]),_:1})]),_:1}))}};export{_sfc_main as default};
